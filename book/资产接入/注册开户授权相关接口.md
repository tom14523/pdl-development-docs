##  注册开户授权

### 时序图：

![img](file:///C:\Users\ADMINI~1\AppData\Local\Temp\ksohtml\wpsA173.tmp.jpg) 

### 功能说明
通过此接口完成海投汇注册及江西银行开户、设置交易密码、缴费授权。此接口按注册、开户、设置交易密码、缴费授权依次完成，如果某一步失败则不再继续后续操作，请根据type类型重新请求，继续引导用户完成后续流程。type默认为0。

### 调用方式
页面调用

### 请求地址：
待定

### 【请求参数】

| **字段名**          | **字段描述** | **类型** | **最大长度** | **必填** | **备注**                                       |
| ------------------- | ------------ | -------- | ------------ | -------- | ---------------------------------------------- |
| 通用字段            |              |          |              |          | [参见《通用字段》](#_2.1.10 通用字段)          |
| mobile              | 手机号       | A        | 11           | M        |                                                |
| password            | 密码         | A        | 16           | C        | type=0时必填                                   |
| verify_password     | 确认密码     | A        | 16           | C        | type=0时必填                                   |
| id_card             | 身份证号     | A        | 18           | M        |                                                |
| real_name           | 真实姓名     | A        | 60           | C        | type=1或type=2时必填                           |
| type                | 业务类型     | A        | 1            | M        | 0：注册；1：开户；2：设置交易密码，3：缴费授权 |
| third_party_user_id | 商户用户id   | A        | 50           | M        | 商户用户id，全局唯一                           |
| notify_url          | 后台通知链接 | A        | 200          | M        | 结果通知会post到此url                          |
| return_url          | 返回页面链接 | A        | 256          | M        | Get方式跳转                                    |


### 【响应参数】

| **字段名**           | **字段描述**     | **类型** | **最大长度** | **必填** | **备注**                              |
| -------------------- | ---------------- | -------- | ------------ | -------- | ------------------------------------- |
| 通用字段             |                  |          |              |          | [参见《通用字段》](#_2.1.10 通用字段) |
| htouhui_user_id      | 海投汇用户id     | A        | 11           | C        | 注册成功时必须返回                    |
| third_party_user_id  | 商户用户id       | A        | 50           | M        |                                       |
| open_account_success | 开户是成功       | A        | 1            | C        | 成功：1，失败：0                      |
| set_password_success | 设置交易密码成功 | A        | 1            | C        | 成功：1，失败：0                      |
| payment_auth_success | 缴费授权成功     | A        | 1            | C        | 成功：1，失败：0                      |

 

 

## 接收注册开户授权状态接口(合作方提供)

### 功能说明
完成海投汇注册及江西银行开户、设置交易密码、缴费授权后。该接口会异步通知合作方用户操作的真实解决，以异步通知为准，如果失败则需要用户重新发起3.1请求，或者查询用户状态3.3后再次发起请求。

### 调用方式
海投汇发送POST请求

### 请求地址
待定

### 【请求参数】

| **字段名**           | **字段描述**         | **类型** | **最大长度** | **必填** | **备注**                                          |
| -------------------- | -------------------- | -------- | ------------ | -------- | ------------------------------------------------- |
| 通用字段             |                      |          |              |          | [参见《通用字段》](#_2.1.10 通用字段)             |
| htouhui_user_id      | 海投汇用户id         | A        | 11           | C        | 如果商户用户注册成功则该字段必须返回              |
| third_party_user_id  | 商户用户id           | A        | 50           | M        |                                                   |
| open_account_success | 开户是成功           | A        | 1            | C        | 成功：1，失败：0                                  |
| set_password_success | 设置交易密码成功     | A        | 1            | C        | 成功：1，失败：0                                  |
| payment_auth_success | 缴费授权成功         | A        | 1            | C        | 成功：1，失败：0                                  |
| balance              | 用户在海投汇账户余额 | A        | 16           | M        | 可作为商户用户待提现金额使用,放款成功及提现会更新 |
| borrower             | 是否是借款人         | A        | 1            | M        | 是：1，否：0                                      |
| bank_card_number     | 开户绑定的银行卡号   | A        | 30           | C        | 开会成功后此字段必须返回                          |

 

## 查询用户信息

### 功能说明
通过用户信息查询接口确定用户在海投汇注册、开户、设置交易密码、缴费授权是否全部成功，如果全部成功则可进行债权对接，如果未全部成功则根据3.1注册开户授权接口处理用户的注册、开户、设置交易密码、缴费授权。

### 调用方式
接口调用

### 请求地址
待定 

### 【请求参数】

| **字段名**          | **字段描述** | **类型** | **最大长度** | **必填** | **备注**                              |
| ------------------- | ------------ | -------- | ------------ | -------- | ------------------------------------- |
| 通用字段            |              |          |              |          | [参见《通用字段》](#_2.1.10 通用字段) |
| id_card             | 身份证号     | A        | 18           | M        |                                       |
| third_party_user_id | 商户用户id   | A        | 50           | M        | 商户用户id，全局唯一                  |


### 【响应参数】

| **字段名**           | **字段描述**         | **类型** | **最大长度** | **必填** | **备注**                                          |
| -------------------- | -------------------- | -------- | ------------ | -------- | ------------------------------------------------- |
| 通用字段             |                      |          |              |          | [参见《通用字段》](#_2.1.10 通用字段)             |
| htouhui_user_id      | 海投汇用户id         | A        | 11           | C        | 如果商户用户注册成功则该字段必须返回              |
| third_party_user_id  | 商户用户id           | A        | 50           | M        |                                                   |
| open_account_success | 开户是成功           | A        | 1            | C        | 成功：1，失败：0                                  |
| set_password_success | 设置交易密码成功     | A        | 1            | C        | 成功：1，失败：0                                  |
| payment_auth_success | 缴费授权成功         | A        | 1            | C        | 成功：1，失败：0                                  |
| balance              | 用户在海投汇账户余额 | A        | 16           | M        | 可作为商户用户待提现金额使用,放款成功及提现会更新 |
| borrower             | 是否是借款人         | A        | 1            | M        | 是：1，否：0                                      |
| bank_card_number     | 开户绑定的银行卡号   | A        | 30           | C        | 开会成功后此字段必须返回                          |